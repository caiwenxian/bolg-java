package dao.java;

import model.po.base.Po;
import model.po.base.WherePrams;
import utils.Formatter;

import java.io.Serializable;
import java.util.List;
import java.util.Map;


/**
 * ?????????????
 *
 * @param <T>  ???PO????
 * @param <PK> PO????????
 * @author ?????
 * @time 2016??5??3??????2:55:13
 * @email 719348277@qq.com
 */
public interface Dao<T extends Po, PK extends Serializable> {

    /**
     * ??????????????????????????Ч????
     *
     * @param po
     * @return ?????????
     */
    public int addLocal(T po);

    /**
     * ?????????????????Ч???У?
     *
     * @param po
     * @return
     */
    public int add(T po);

    /**
     * ?????????
     * @param pos
     * @return
     */
//	public int add(List<T> pos);

    /**
     * ???????????????
     *
     * @param id ????
     * @return PO
     */
    public T get(PK id);

    /**
     * ??????????????ε??
     *
     * @param id
     * @param fileName
     * @return
     */
    public Serializable getField(PK id, String fileName);

    /**
     * ?????????????
     *
     * @param ????????
     * @return PO
     */
    public T get(WherePrams where);

    /**
     * ????????????????
     *
     * @param where
     * @param fileName
     * @return
     */
    public Serializable getFile(WherePrams where, String fileName);

    /**
     * ????????б?
     *
     * @param where ????????
     * @return PO?б?
     */
    public List<T> list(WherePrams where);

    /**
     * ??????????б?
     *
     * @param where    ????????
     * @param fileName ?????????
     * @return
     */
    public Serializable[] listFile(WherePrams where, String fileName);

    /**
     * ????Щ???
     *
     * @param where ????????
     * @param files ????????μ?
     * @return ?????PO????б?
     */
    public List<Map<String, Serializable>> listFiles(WherePrams where, String[] files);

    /**
     * ??????null??PO???
     *
     * @param po
     * @return ??????????
     */
    public int updateLocal(T po);

    /**
     * ????PO?????????
     *
     * @param po
     * @return ??????????
     */
    public int update(T po);

    /**
     * ??????????null?????
     *
     * @param po
     * @param ????????
     * @return ??????????
     */
    public int updateLocal(T po, WherePrams where);

    /**
     * ???????????????
     *
     * @param po
     * @param ????????
     * @return ??????????
     */
    public int update(T po, WherePrams where);

    /**
     * ?????????
     *
     * @param id ????
     * @return ??????????
     */
    public int del(PK id);

    /**
     * ?????????????
     *
     * @param where ????????
     * @return ??????????
     */
    public int del(WherePrams where);

    /**
     * ?????sql???
     *
     * @param sql  ??????в????Sql
     * @return ????
     */
    public List<Map<String, Object>> listBySql(String sql);

    /**
     * ????????sql
     *
     * @param sql  ??????е?Sql
     * @return ??????????
     */
    public int excuse(String sql);

    /**
     * ????????????????
     *
     * @param where ????????
     * @return ???????????
     */
    public long count(WherePrams where);

    /**
     * ?????????е?????
     *
     * @return ???е?????
     */
    public long size();

    /**
     * ??????????????????ID???????????γ???
     *
     * @param po ???????
     * @return
     */
    public boolean isExist(T po);

    /**
     * ?????????????????
     *
     * @param where ????????
     * @return
     */
    public boolean isExist(WherePrams where);

    /**
     * ????
     *
     * @param fileName ?????????????
     * @param values   ??ε??
     * @return ?????????
     */
    public List<T> in(String fileName, Serializable[] values);

    /**
     * ???????????е??
     *
     * @return
     */
    public long nextId();

    /**
     * ??????????
     *
     * @param where
     * @param fmt
     * @return
     */
    public List<T> listFormat(WherePrams where, Formatter fmt);
}